<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            stylesheets="@/css/recipe-detail.css"
            fx:controller="com.example.recipeapp.controller.RecipeDetailController">

    <!-- ===== ãƒ˜ãƒƒãƒ€ãƒ¼ ===== -->
    <top>
        <HBox spacing="10" styleClass="detail-header">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <Button text="â† æˆ»ã‚‹" onAction="#onBack"/>
            <Label fx:id="titleLabel" styleClass="detail-title"/>
        </HBox>
    </top>

    <!-- ===== ãƒ¡ã‚¤ãƒ³ ===== -->
    <center>
        <SplitPane dividerPositions="0.7">

            <!-- ===== å·¦ï¼šãƒ¬ã‚·ãƒ”è©³ç´° ===== -->
            <ScrollPane fitToWidth="true">
                <VBox spacing="25">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>

                    <!-- å†™çœŸ + èª¬æ˜Ž + ææ–™ -->
                    <HBox spacing="20" styleClass="card">
                        <ImageView fx:id="imageView"
                                   fitWidth="260"
                                   preserveRatio="true"/>

                        <VBox spacing="12">
                            <Label fx:id="descriptionLabel"
                                   wrapText="true"
                                   styleClass="description-text"/>

                            <Label text="ææ–™" styleClass="section-title"/>
                            <ListView fx:id="ingredientList"
                                      prefHeight="160"/>
                        </VBox>
                    </HBox>

                    <!-- æ‰‹é † -->
                    <VBox spacing="10" styleClass="card">
                        <Label text="æ‰‹é †" styleClass="section-title"/>
                        <ListView fx:id="stepList"/>
                    </VBox>

                    <!-- æ „é¤Šæƒ…å ± -->
                    <VBox spacing="8" styleClass="card nutrition-box">
                        <Label text="æ „é¤Šæƒ…å ±" styleClass="section-title"/>
                        <HBox spacing="20">
                            <Label fx:id="calorieLabel"/>
                            <Label fx:id="proteinLabel"/>
                            <Label fx:id="fatLabel"/>
                            <Label fx:id="carbLabel"/>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>

            <!-- ===== å³ï¼šAIã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ« ===== -->
            <VBox spacing="12" styleClass="ai-panel">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>

                <Label text="ðŸ¤– AIã‚µãƒãƒ¼ãƒˆ" styleClass="section-title"/>
                <Label text="ã“ã®ãƒ¬ã‚·ãƒ”ã«ã¤ã„ã¦è³ªå•ã§ãã¾ã™"
                       styleClass="ai-subtitle"/>

                <VBox spacing="8">
                    <Button text="ææ–™ãŒè¶³ã‚Šãªã„ã‘ã©ä½œã‚Œã‚‹ï¼Ÿ"
                            onAction="#onAskMissing"/>

                    <Button text="ä»£ã‚ã‚Šã«ä½¿ãˆã‚‹ç‰©ã¯ï¼Ÿ"
                            onAction="#onAskSubstitute"/>

                    <Button text="åˆã†ä¸€å“ã¯ï¼Ÿ"
                            onAction="#onAskSideDish"/>

                    <Button text="å¤±æ•—ã—ã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã¯ï¼Ÿ"
                            onAction="#onAskPitfall"/>

                </VBox>

                <Separator/>

                <TextArea fx:id="llmResultArea"
                          editable="false"
                          wrapText="true"
                          prefHeight="300"/>
            </VBox>

        </SplitPane>
    </center>

</BorderPane>
